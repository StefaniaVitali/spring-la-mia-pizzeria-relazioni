<!doctype html>
<!-- html tag with Thymeleaf -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Bootstrap CSS -->
	<link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.1.3/css/bootstrap.min.css}" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
	<title>Ingredienti</title>
</head>

<body>
	<div class="container">
		<h1 class="text-center mb-5">Gli ingredienti della pizzeria:</h1>

		<div>
			<ul style="list-style-type: none">
				<li th:each="ingrediente : ${listaIngredienti}">
					<div class="d-flex justify-content-center row-col-6">
						
					<div class="col-3 mx-2">
						<p class="h5 text-end" th:text="*{ingrediente.nome}"></p>
					</div>	
											
				    <div class="col-3 mx-2" >						
					<form th:action="@{/ingrediente/delete/{id}(id=${ingrediente.id})}" method="post">
						<button class="btn btn-danger m-1" type="submit" id="submitButton"
							th:data-confirm-delete="|Sei sicuro di voler eliminare questo ingrediente?|"
							onclick="if(!confirm(this.getAttribute('data-confirm-delete'))) return false"><i class="bi bi-trash"></i>
						</button>
					</form>
					</div>
					</div>
				</li>

			</ul>
		</div>


		<div class="d-flex flex-row mb-3 justify-content-center my-5">
			<div class="row-col-12">

			</div>
			<div class="col-6 text-end">
				<p class="me-5 h5">Vuoi aggiungere un nuovo ingrediente?</p>
			</div>

			<div class="col-6">

				<form id="form-ingrediente" th:action="@{/ingrediente/create}" th:object="${ingrediente}"
					th:method="post" class="row d-flex justify-content-start ">
					<div class="col-4">
						<input type="text" th:field="*{nome}" id="ingrediente" class="form-control">
					</div>
					<div th:if="${#fields.hasAnyErrors()}">
						<ul>
							<li th:each="err:${#fields.allErrors()}" th:text="${err}"></li>
						</ul>
					</div>
					<div class="col-1">
						<button class="btn btn-primary" type="summit"><i class="bi bi-plus-square"></i></button>
					</div>

				</form>
			</div>

		</div>
		<a class="btn btn-primary" th:href="@{|/pizzeria|}">Torna alla home <i class="bi bi-house-door"></i></a>
	</div>


	<!-- Bootstrap Bundle with Popper -->
	<script th:src="@{/webjars/bootstrap/5.1.3/js/bootstrap.bundle.min.js}"></script>
</body>

</html>